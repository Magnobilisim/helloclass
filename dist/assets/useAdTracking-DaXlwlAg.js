import{r as o}from"./index-BaVKQqDK.js";import{t as b}from"./adTrackingService-DSpkMtQT.js";const y=({adId:e,placement:r,context:s,userId:t,userRole:n,locationHint:f})=>{const c=o.useRef(!1),i=o.useRef(null);o.useEffect(()=>{const u=i.current;if(!u)return;const p=()=>{c.current||(c.current=!0,b({adId:e,placement:r,context:s,userId:t,userRole:n,locationHint:f,type:"impression"}))};if(typeof window>"u"||typeof IntersectionObserver>"u"){p();return}const g=new IntersectionObserver(m=>{m.forEach(v=>{v.isIntersecting&&p()})},{threshold:.5});return g.observe(u),()=>{g.disconnect()}},[e,r,s,t,n,f]);const k=o.useCallback(()=>{b({adId:e,placement:r,context:s,userId:t,userRole:n,locationHint:f,type:"click"})},[e,r,s,t,n,f]);return{adRef:i,logAdClick:k}};export{y as u};
