import{u as q,r,j as e,n as B,F as H,o as J}from"./index-C5K4Kfcd.js";import{Y as K,I as Q,T as V,L as Z}from"./youtube-CCqkNi5V.js";import{T as ee,P as te}from"./trash-2-OCDLetU-.js";import{S as ae}from"./save-uRNP2Y-w.js";const D=s=>({youtube:(s==null?void 0:s.youtube)||"",instagram:(s==null?void 0:s.instagram)||"",x:(s==null?void 0:s.x)||"",linkedin:(s==null?void 0:s.linkedin)||""}),de=()=>{const{systemSettings:s,updateSystemSettings:Y,t:a}=q(),[y,j]=r.useState(20),[o,N]=r.useState(!1),[x,v]=r.useState(.1),[f,w]=r.useState(""),[_,C]=r.useState(""),[k,S]=r.useState(50),[P,z]=r.useState(100),[m,g]=r.useState(s.pointPackages||[]),[u,T]=r.useState(""),[b,R]=r.useState(100),[p,L]=r.useState(0),[M,E]=r.useState(""),[$,A]=r.useState(s.aiWizardCost||0),[F,I]=r.useState(s.aiExplainCost||0),[h,W]=r.useState(s.usernameCost??0),[l,i]=r.useState(D(s.socialLinks));r.useEffect(()=>{s&&(j(s.commissionRate),N(s.maintenanceMode),v(s.pointConversionRate||.1),w(s.studentTerms||""),C(s.teacherTerms||""),S(s.adRewardPoints||0),z(s.referralRewardPoints||0),g(s.pointPackages||[]),A(s.aiWizardCost??0),I(s.aiExplainCost??0),W(s.usernameCost??0),i(D(s.socialLinks)))},[s]);const G=()=>{if(!u.trim()||b<=0||p<=0)return;const t={id:`pkg-${Date.now()}`,name:u.trim(),points:b,price:p,description:M.trim()};g(n=>[...n,t]),T(""),R(100),L(0),E("")},O=t=>{g(n=>n.filter(d=>d.id!==t))},c=(t,n)=>{if(!n)return"";const d=n.trim();if(!d)return"";if(/^https?:\/\//i.test(d))return d;const X=d.replace(/^@/,"");return`${{youtube:"https://www.youtube.com/",instagram:"https://www.instagram.com/",x:"https://twitter.com/",linkedin:"https://www.linkedin.com/"}[t]||"https://"}${X}`},U=()=>{const t={youtube:c("youtube",l.youtube),instagram:c("instagram",l.instagram),x:c("x",l.x),linkedin:c("linkedin",l.linkedin)};i(t),Y({commissionRate:y,maintenanceMode:o,pointConversionRate:x,studentTerms:f,teacherTerms:_,adRewardPoints:k,referralRewardPoints:P,pointPackages:m,aiWizardCost:$,aiExplainCost:F,usernameCost:h,socialLinks:t})};return e.jsxs("div",{className:"space-y-6 pb-20",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:a("sys_settings")}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"p-3 bg-gray-100 rounded-2xl",children:e.jsx(B,{size:24,className:"text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg text-gray-800",children:a("gen_config")}),e.jsx("p",{className:"text-sm text-gray-500",children:a("config_desc")})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:a("commission_rate")}),e.jsx("input",{type:"number",value:y,onChange:t=>j(Number(t.target.value)),className:"w-full bg-white border border-gray-200 rounded-xl p-3 outline-none focus:border-brand-500 text-gray-900"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:a("comm_desc")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:a("point_conversion")}),e.jsx("input",{type:"number",step:"0.01",value:x,onChange:t=>v(parseFloat(t.target.value)),className:"w-full bg-white border border-gray-200 rounded-xl p-3 outline-none focus:border-brand-500 text-gray-900"}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[a("point_conv_desc")," (Current: 100 Points = ",(100*x).toFixed(2)," TL)"]})]}),e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:a("ad_reward_points")}),e.jsx("input",{type:"number",value:k,onChange:t=>S(Number(t.target.value)),className:"w-full bg-white border border-gray-200 rounded-xl p-3 outline-none focus:border-brand-500 text-gray-900"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:a("ad_reward_hint")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:a("referral_reward_points")}),e.jsx("input",{type:"number",value:P,onChange:t=>z(Number(t.target.value)),className:"w-full bg-white border border-gray-200 rounded-xl p-3 outline-none focus:border-brand-500 text-gray-900"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:a("referral_reward_hint")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:a("ai_wizard_cost")}),e.jsx("input",{type:"number",min:0,value:$,onChange:t=>A(Math.max(0,Number(t.target.value))),className:"w-full bg-white border border-gray-200 rounded-xl p-3 outline-none focus:border-brand-500 text-gray-900"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:a("ai_wizard_cost_hint")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:a("ai_explain_cost")}),e.jsx("input",{type:"number",min:0,value:F,onChange:t=>I(Math.max(0,Number(t.target.value))),className:"w-full bg-white border border-gray-200 rounded-xl p-3 outline-none focus:border-brand-500 text-gray-900"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:a("ai_explain_cost_hint")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:a("username_cost")}),e.jsx("input",{type:"number",min:0,value:h,onChange:t=>W(Math.max(0,Number(t.target.value))),className:"w-full bg-white border border-gray-200 rounded-xl p-3 outline-none focus:border-brand-500 text-gray-900"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:a("username_cost_hint").replace("{points}",String(h||0))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:a("social_links")}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 border border-gray-200 rounded-xl px-3",children:[e.jsx(K,{size:16,className:"text-red-500"}),e.jsx("input",{type:"url",placeholder:"YouTube",value:l.youtube||"",onChange:t=>i(n=>({...n,youtube:t.target.value})),className:"flex-1 bg-transparent py-2 text-sm text-gray-800 outline-none"})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 border border-gray-200 rounded-xl px-3",children:[e.jsx(Q,{size:16,className:"text-pink-500"}),e.jsx("input",{type:"url",placeholder:"Instagram",value:l.instagram||"",onChange:t=>i(n=>({...n,instagram:t.target.value})),className:"flex-1 bg-transparent py-2 text-sm text-gray-800 outline-none"})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 border border-gray-200 rounded-xl px-3",children:[e.jsx(V,{size:16,className:"text-blue-500"}),e.jsx("input",{type:"url",placeholder:"X / Twitter",value:l.x||"",onChange:t=>i(n=>({...n,x:t.target.value})),className:"flex-1 bg-transparent py-2 text-sm text-gray-800 outline-none"})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 border border-gray-200 rounded-xl px-3",children:[e.jsx(Z,{size:16,className:"text-blue-600"}),e.jsx("input",{type:"url",placeholder:"LinkedIn",value:l.linkedin||"",onChange:t=>i(n=>({...n,linkedin:t.target.value})),className:"flex-1 bg-transparent py-2 text-sm text-gray-800 outline-none"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:a("maintenance_mode")}),e.jsxs("div",{onClick:()=>N(!o),className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("div",{className:`w-14 h-8 rounded-full relative transition-colors ${o?"bg-brand-500":"bg-gray-200"}`,children:e.jsx("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full shadow-sm transition-transform ${o?"left-7":"left-1"}`})}),e.jsx("span",{className:`text-sm font-medium ${o?"text-brand-600":"text-gray-600"}`,children:o?"Maintenance ON":a("sys_active")})]})]})]})]}),e.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"p-3 bg-gray-100 rounded-2xl",children:e.jsx(H,{size:24,className:"text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg text-gray-800",children:a("contract_mgmt")}),e.jsx("p",{className:"text-sm text-gray-500",children:a("contract_hint")})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:a("student_contract")}),e.jsx("textarea",{value:f,onChange:t=>w(t.target.value),className:"w-full bg-white border border-gray-200 rounded-xl p-3 outline-none focus:border-brand-500 text-gray-900 text-xs font-mono h-32"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:a("teacher_contract")}),e.jsx("textarea",{value:_,onChange:t=>C(t.target.value),className:"w-full bg-white border border-gray-200 rounded-xl p-3 outline-none focus:border-brand-500 text-gray-900 text-xs font-mono h-32"})]})]})]})]}),e.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-sm border border-gray-100 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-brand-50 text-brand-600 rounded-2xl",children:e.jsx(J,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg text-gray-800",children:a("point_packages")}),e.jsx("p",{className:"text-sm text-gray-500",children:a("point_packages_desc")})]})]}),e.jsx("div",{className:"space-y-3",children:m.length===0?e.jsx("p",{className:"text-sm text-gray-500",children:a("no_packages")}):m.map(t=>e.jsxs("div",{className:"flex flex-wrap items-center gap-3 p-3 border border-gray-100 rounded-2xl",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[t.points," ",a("points")," • ₺",t.price.toFixed(2)]}),t.description&&e.jsx("p",{className:"text-xs text-gray-400",children:t.description})]}),e.jsx("button",{onClick:()=>O(t.id),className:"p-2 text-red-500 hover:text-red-600 hover:bg-red-50 rounded-lg",children:e.jsx(ee,{size:18})})]},t.id))}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsx("input",{value:u,onChange:t=>T(t.target.value),placeholder:a("package_name"),className:"bg-gray-50 border border-gray-200 rounded-xl p-3 text-sm"}),e.jsx("input",{type:"number",value:b,onChange:t=>R(Number(t.target.value)),placeholder:a("package_points"),className:"bg-gray-50 border border-gray-200 rounded-xl p-3 text-sm"}),e.jsx("input",{type:"number",value:p,onChange:t=>L(Number(t.target.value)),placeholder:a("package_price"),className:"bg-gray-50 border border-gray-200 rounded-xl p-3 text-sm"}),e.jsx("input",{value:M,onChange:t=>E(t.target.value),placeholder:a("package_description"),className:"bg-gray-50 border border-gray-200 rounded-xl p-3 text-sm"})]}),e.jsxs("button",{onClick:G,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-900 text-white rounded-xl font-semibold text-sm w-full md:w-auto",children:[e.jsx(te,{size:16})," ",a("add_package")]})]}),e.jsxs("button",{onClick:U,className:"fixed bottom-6 right-6 bg-brand-500 text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-2 hover:bg-brand-600 transition-colors shadow-2xl shadow-brand-200 z-10 hover:scale-105",children:[e.jsx(ae,{size:20})," ",a("save_changes")]})]})};export{de as AdminSettings};
