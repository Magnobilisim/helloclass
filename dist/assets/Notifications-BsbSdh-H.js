import{c as d,u as f,d as u,r as p,j as e,m as j,n as y}from"./index-0u4Oh89o.js";import{C as w}from"./circle-check-big-2iAip2ib.js";import{C as N}from"./circle-alert-CtDkN1AS.js";import{A as v}from"./arrow-right-CDCFAQgN.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],S=d("inbox",k);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],C=d("info",_),A=()=>{const{notifications:m,user:s,markNotificationRead:x,updateUser:g,t:a}=f(),l=u(),[r,h]=p.useState(!1),o=m.filter(t=>t.userId===(s==null?void 0:s.id)).sort((t,i)=>new Date(i.timestamp).getTime()-new Date(t.timestamp).getTime()),b=(t,i)=>{x(t),i&&l(i)},c=t=>{if(!s)return;const i=s.notificationSettings||{email:!0,app:!0};g({...s,notificationSettings:{...i,[t]:!i[t]}})},n=(s==null?void 0:s.notificationSettings)||{email:!0,app:!0};return e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6 pb-20",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[e.jsx(j,{className:"text-brand-500"})," ",a("notifications")]}),e.jsx("button",{onClick:()=>h(!r),className:`p-2 rounded-xl transition-colors ${r?"bg-brand-50 text-brand-600":"bg-white text-gray-400 hover:bg-gray-50"}`,title:a("notification_settings"),children:e.jsx(y,{size:20})})]}),r&&e.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-100 animate-fade-in mb-6",children:[e.jsx("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2 text-sm uppercase tracking-wider",children:a("notification_settings")}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-2xl",children:[e.jsx("span",{className:"text-sm font-bold text-gray-700",children:a("email_notifs")}),e.jsx("button",{onClick:()=>c("email"),className:`w-12 h-6 rounded-full relative transition-colors ${n.email?"bg-brand-500":"bg-gray-300"}`,children:e.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${n.email?"left-7":"left-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-2xl",children:[e.jsx("span",{className:"text-sm font-bold text-gray-700",children:a("app_notifs")}),e.jsx("button",{onClick:()=>c("app"),className:`w-12 h-6 rounded-full relative transition-colors ${n.app?"bg-brand-500":"bg-gray-300"}`,children:e.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${n.app?"left-7":"left-1"}`})})]})]})]}),e.jsx("div",{className:"space-y-3",children:o.length===0?e.jsxs("div",{className:"bg-white p-12 rounded-3xl text-center border border-gray-100 flex flex-col items-center shadow-sm",children:[e.jsx("div",{className:"w-20 h-20 bg-blue-50 rounded-full flex items-center justify-center mb-6",children:e.jsx(S,{size:32,className:"text-blue-300"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:a("all_caught_up")}),e.jsx("p",{className:"text-gray-500 max-w-xs mx-auto mb-6",children:a("quiet_here")}),e.jsx("button",{onClick:()=>l("/student/exams"),className:"bg-brand-500 text-white px-6 py-3 rounded-xl font-bold hover:scale-105 transition-transform shadow-lg shadow-brand-200",children:a("explore_exams")})]}):o.map(t=>e.jsxs("div",{onClick:()=>b(t.id,t.link),className:`p-5 rounded-2xl border transition-all flex gap-4 cursor-pointer hover:scale-[1.01] active:scale-95 ${t.isRead?"bg-white border-gray-100 opacity-60":"bg-white border-blue-100 shadow-md shadow-blue-50"}`,children:[e.jsx("div",{className:`p-3 rounded-full shrink-0 h-fit ${t.type==="success"?"bg-green-100 text-green-600":t.type==="warning"?"bg-orange-100 text-orange-600":"bg-blue-100 text-blue-600"}`,children:t.type==="success"?e.jsx(w,{size:20}):t.type==="warning"?e.jsx(N,{size:20}):e.jsx(C,{size:20})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:`font-bold text-sm ${t.isRead?"text-gray-700":"text-gray-900"}`,children:t.title}),e.jsx("p",{className:"text-gray-500 text-sm mt-1 leading-relaxed",children:t.message}),e.jsxs("span",{className:"text-xs text-gray-400 mt-2 block font-medium",children:[new Date(t.timestamp).toLocaleDateString()," â€¢ ",new Date(t.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),e.jsxs("div",{className:"flex flex-col justify-between items-end shrink-0",children:[t.link&&e.jsx(v,{size:16,className:"text-gray-300"}),!t.isRead&&e.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-red-500 mt-auto shadow-sm"})]})]},t.id))})]})};export{A as Notifications};
