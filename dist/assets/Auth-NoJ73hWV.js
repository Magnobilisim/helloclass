import{c as x,u as le,r as a,U as r,a as oe,j as e,T as ne,b as ie,F as ce}from"./index-C5K4Kfcd.js";import{Y as de,I as xe,T as me,L as ue}from"./youtube-CCqkNi5V.js";import{S as be}from"./sparkles-Ch5XXRhn.js";import{U as he}from"./user-plus-CF4M0Yzd.js";import{G as ge}from"./graduation-cap-DIr2QCWg.js";import{X as q}from"./x-DstQxW1F.js";import{C as pe}from"./circle-check-big-DEjO4KOF.js";import{A as fe}from"./arrow-right-Cu228fFs.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["path",{d:"M12 6.528V3a1 1 0 0 1 1-1h0",key:"11qiee"}],["path",{d:"M18.237 21A15 15 0 0 0 22 11a6 6 0 0 0-10-4.472A6 6 0 0 0 2 11a15.1 15.1 0 0 0 3.763 10 3 3 0 0 0 3.648.648 5.5 5.5 0 0 1 5.178 0A3 3 0 0 0 18.237 21",key:"110c12"}]],je=x("apple",ye);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["path",{d:"M10.88 21.94 15.46 14",key:"xkve6t"}],["path",{d:"M21.17 8H12",key:"19dcdn"}],["path",{d:"M3.95 6.06 8.54 14",key:"g8jz9m"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],ve=x("chromium",Ne);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]],ke=x("lock-keyhole",we);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Ce=x("log-in",_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ee=x("mail",Se);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ae=x("shield-check",Te),Fe=()=>{const{login:m,register:B,users:V,systemSettings:f,t:s,showAlert:o,schools:E,resetPassword:G,sendPasswordResetEmail:Y}=le(),[n,T]=a.useState(!0),[u,K]=a.useState(""),[d,X]=a.useState(""),[A,J]=a.useState(""),[l,O]=a.useState(r.STUDENT),[z,L]=a.useState(!1),[Q,y]=a.useState(!1),I=oe(),[M,U]=a.useState("");a.useEffect(()=>{const c=new URLSearchParams(I.search).get("ref")||"";c&&U(c)},[I.search]);const[W,j]=a.useState(!1),[i,b]=a.useState(1),[h,N]=a.useState(""),[v,w]=a.useState(""),[R,D]=a.useState(!1),[g,H]=a.useState(""),[k,Z]=a.useState(""),[_,ee]=a.useState(5),p=f.socialLinks||{},F=[{key:"youtube",url:p.youtube,Icon:de,color:"text-red-500"},{key:"instagram",url:p.instagram,Icon:xe,color:"text-pink-500"},{key:"x",url:p.x,Icon:me,color:"text-blue-500"},{key:"linkedin",url:p.linkedin,Icon:ue,color:"text-blue-600"}].filter(t=>t.url),C=t=>{t===r.STUDENT&&m("student@helloclass.com",t),t===r.TEACHER&&m("teacher@helloclass.com",t),t===r.ADMIN&&m("admin@helloclass.com",t)},te=t=>{if(t.preventDefault(),n){const c=V.find(S=>S.email===d);c?m(d,c.role):m(d,r.STUDENT)}else{if(!u||!d||!A){o(s("fill_all"),"error");return}if(l===r.STUDENT){if(!g){o(s("select_school"),"error");return}if(!_){o(s("grade"),"error");return}}if(l===r.TEACHER&&!k){o(s("select_branch"),"error");return}if(!z){o(s("terms_agree_error"),"error");return}B({id:`user-${Date.now()}`,name:u,email:d,role:l,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${u}`,points:0,inventory:[],purchasedExamIds:[],classLevel:l===r.STUDENT?_:void 0,englishLevel:"A1",schoolId:g||void 0,branch:l===r.TEACHER?k:void 0},{referralCode:M})}},$=t=>{o(s("external_login_coming"),"info")},se=async()=>{if(!h){o(s("fill_all"),"error");return}D(!0);const t=await Y(h);D(!1),t?b(2):o(s("user_not_found"),"error")},re=()=>{if(!v){o(s("fill_all"),"error");return}G(h,v)&&(j(!1),N(""),w(""),b(1))},P=()=>{j(!1),b(1),N(""),w("")};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-brand-100 to-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-brand-300 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-300 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),e.jsxs("div",{className:"bg-white/95 md:bg-white/80 backdrop-blur-xl p-8 rounded-3xl shadow-2xl w-full max-w-md border border-white relative z-10 transition-all max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-brand-500 rounded-2xl mx-auto flex items-center justify-center mb-4 shadow-lg transform rotate-3",children:e.jsx(be,{className:"text-white w-8 h-8"})}),e.jsx("h1",{className:"text-3xl font-extrabold text-gray-800 tracking-tight",children:"HelloClass"}),e.jsx("p",{className:"text-gray-500 mt-2",children:s("login_subtitle")})]}),e.jsxs("form",{onSubmit:te,className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-xl mb-6",children:[e.jsx("button",{type:"button",onClick:()=>T(!0),className:`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${n?"bg-white shadow-sm text-gray-800":"text-gray-400"}`,children:s("login_title")}),e.jsx("button",{type:"button",onClick:()=>T(!1),className:`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${n?"text-gray-400":"bg-white shadow-sm text-gray-800"}`,children:s("register")})]}),!n&&e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:s("name")}),e.jsx("input",{type:"text",value:u,onChange:t=>K(t.target.value),className:"w-full bg-transparent outline-none text-gray-800 font-medium",placeholder:"Full Name"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:s("email")}),e.jsx("input",{type:"email",value:d,onChange:t=>X(t.target.value),className:"w-full bg-transparent outline-none text-gray-800 font-medium",placeholder:"hello@example.com"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:s("password")}),e.jsx("input",{type:"password",value:A,onChange:t=>J(t.target.value),className:"w-full bg-transparent outline-none text-gray-800 font-medium",placeholder:"••••••••"})]}),n&&e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"button",onClick:()=>j(!0),className:"text-xs font-bold text-brand-600 hover:underline",children:s("forgot_password")})}),!n&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex gap-2",children:[r.STUDENT,r.TEACHER].map(t=>e.jsx("button",{type:"button",onClick:()=>O(t),className:`flex-1 py-2 rounded-xl border text-xs font-bold uppercase transition-all ${l===t?"border-brand-500 bg-brand-50 text-brand-600":"border-gray-100 text-gray-400"}`,children:s(t.toLowerCase())},t))}),l===r.STUDENT&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:s("school")}),e.jsx("input",{list:"schools-list",value:g,onChange:t=>H(t.target.value),className:"w-full bg-transparent outline-none text-gray-800 font-medium",placeholder:s("search_users")}),e.jsx("datalist",{id:"schools-list",children:E.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:s("grade")}),e.jsx("select",{value:_,onChange:t=>ee(Number(t.target.value)),className:"w-full bg-transparent outline-none text-gray-800 font-medium cursor-pointer",children:Array.from({length:12},(t,c)=>c+1).map(t=>e.jsxs("option",{value:t,children:[t,". ",s("grade")]},t))})]})]}),l===r.TEACHER&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:s("branch")}),e.jsxs("select",{value:k,onChange:t=>Z(t.target.value),className:"w-full bg-transparent outline-none text-gray-800 font-medium cursor-pointer",children:[e.jsx("option",{value:"",children:s("select_branch")}),ne.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsxs("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:[s("school")," (",s("optional"),")"]}),e.jsx("input",{list:"schools-list-teacher",value:g,onChange:t=>H(t.target.value),className:"w-full bg-transparent outline-none text-gray-800 font-medium",placeholder:s("search_users")}),e.jsx("datalist",{id:"schools-list-teacher",children:E.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))})]})]}),e.jsxs("div",{className:"flex items-center gap-3 px-1",children:[e.jsx("input",{type:"checkbox",id:"terms",checked:z,onChange:t=>L(t.target.checked),className:"w-5 h-5 rounded border-gray-300 text-brand-500 focus:ring-brand-500 cursor-pointer"}),e.jsxs("label",{htmlFor:"terms",className:"text-xs text-gray-600 font-medium",children:[s("terms_label")," ",e.jsx("button",{type:"button",onClick:()=>y(!0),className:"text-brand-600 hover:underline font-bold",children:s("terms_link")})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsxs("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:[s("enter_referral_code")," (",s("optional"),")"]}),e.jsx("input",{type:"text",value:M,onChange:t=>U(t.target.value),className:"w-full bg-transparent outline-none text-gray-800 font-medium",placeholder:s("referral_placeholder")})]})]}),e.jsxs("button",{type:"submit",className:"w-full bg-gray-900 text-white py-4 rounded-xl font-bold shadow-lg hover:scale-[1.02] transition-transform flex items-center justify-center gap-2",children:[n?e.jsx(Ce,{size:20}):e.jsx(he,{size:20}),s(n?"login_title":"create_account")]})]}),n&&e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("button",{type:"button",onClick:()=>$(),className:"w-full flex items-center justify-center gap-2 border border-gray-200 rounded-xl py-3 font-semibold text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(ve,{size:18,className:"text-red-500"}),s("continue_with_google")]}),e.jsxs("button",{type:"button",onClick:()=>$(),className:"w-full flex items-center justify-center gap-2 border border-gray-200 rounded-xl py-3 font-semibold text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(je,{size:18,className:"text-black"}),s("continue_with_apple")]})]}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-200"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white/80 text-gray-500 font-medium",children:s("demo_mode")})})]}),e.jsxs("div",{className:"flex gap-3 overflow-x-auto pb-2 md:grid md:grid-cols-3 md:pb-0 no-scrollbar snap-x",children:[e.jsxs("button",{onClick:()=>C(r.STUDENT),className:"flex-shrink-0 w-28 md:w-auto flex flex-col items-center justify-center p-3 rounded-xl bg-blue-50 text-blue-600 hover:bg-blue-100 transition-colors border border-blue-100 snap-center",children:[e.jsx(ie,{size:20,className:"mb-1"}),e.jsx("span",{className:"text-xs font-bold",children:s("student")})]}),e.jsxs("button",{onClick:()=>C(r.TEACHER),className:"flex-shrink-0 w-28 md:w-auto flex flex-col items-center justify-center p-3 rounded-xl bg-brand-50 text-brand-600 hover:bg-brand-100 transition-colors border border-brand-100 snap-center",children:[e.jsx(ge,{size:20,className:"mb-1"}),e.jsx("span",{className:"text-xs font-bold",children:s("teacher")})]}),e.jsxs("button",{onClick:()=>C(r.ADMIN),className:"flex-shrink-0 w-28 md:w-auto flex flex-col items-center justify-center p-3 rounded-xl bg-purple-50 text-purple-600 hover:bg-purple-100 transition-colors border border-purple-100 snap-center",children:[e.jsx(Ae,{size:20,className:"mb-1"}),e.jsx("span",{className:"text-xs font-bold",children:s("admin")})]})]}),F.length>0&&e.jsx("div",{className:"mt-6 flex items-center justify-center gap-4 text-gray-400",children:F.map(({key:t,url:c,Icon:S,color:ae})=>e.jsx("a",{href:c,target:"_blank",rel:"noreferrer",className:`p-2 rounded-full border border-gray-200 hover:bg-gray-50 transition-colors ${ae}`,children:e.jsx(S,{size:18})},t))})]}),W&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4 backdrop-blur-sm animate-fade-in",children:e.jsxs("div",{className:"bg-white w-full max-w-md rounded-3xl shadow-2xl relative p-8",children:[e.jsx("button",{onClick:P,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full p-2",children:e.jsx(q,{size:24})}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full mx-auto flex items-center justify-center mb-4 text-blue-600",children:i===1?e.jsx(ke,{size:32}):i===2?e.jsx(Ee,{size:32}):e.jsx(pe,{size:32})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:s(i===1?"reset_password":i===2?"email_sent":"new_password")}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:s(i===1?"enter_email":i===2?"check_inbox":"new_password")})]}),i===1&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:s("enter_email")}),e.jsx("input",{type:"email",value:h,onChange:t=>N(t.target.value),className:"w-full bg-transparent outline-none text-gray-800 font-medium",placeholder:"hello@example.com"})]}),e.jsx("button",{onClick:se,disabled:R,className:"w-full bg-gray-900 text-white py-3 rounded-xl font-bold hover:scale-[1.02] transition-transform shadow-lg disabled:opacity-70",children:R?"Sending...":s("send_link")})]}),i===2&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-green-50 text-green-700 p-4 rounded-xl border border-green-200 text-sm font-medium text-center",children:s("check_inbox")}),e.jsxs("button",{onClick:()=>b(3),className:"w-full bg-blue-500 text-white py-3 rounded-xl font-bold hover:bg-blue-600 transition-colors shadow-md flex items-center justify-center gap-2",children:[s("click_demo_link")," ",e.jsx(fe,{size:18})]}),e.jsx("button",{onClick:P,className:"w-full text-gray-500 font-bold hover:text-gray-800 text-sm",children:s("back_to_login")})]}),i===3&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:s("new_password")}),e.jsx("input",{type:"password",value:v,onChange:t=>w(t.target.value),className:"w-full bg-transparent outline-none text-gray-800 font-medium",placeholder:"••••••••"})]}),e.jsx("button",{onClick:re,className:"w-full bg-gray-900 text-white py-3 rounded-xl font-bold hover:scale-[1.02] transition-transform shadow-lg",children:s("save")})]})]})}),Q&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4 backdrop-blur-sm animate-fade-in",children:e.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-3xl shadow-2xl relative flex flex-col max-h-[85vh]",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50 rounded-t-3xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-brand-100 text-brand-600 rounded-lg",children:e.jsx(ce,{size:24})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:l===r.TEACHER?s("teacher_contract"):s("student_contract")})]}),e.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600 hover:bg-gray-200 rounded-full p-2 transition-colors",children:e.jsx(q,{size:24})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-8 text-gray-700 leading-relaxed text-sm whitespace-pre-line custom-scrollbar",children:l===r.TEACHER?f.teacherTerms:f.studentTerms}),e.jsx("div",{className:"p-6 border-t border-gray-100 bg-gray-50 rounded-b-3xl",children:e.jsx("button",{onClick:()=>{L(!0),y(!1)},className:"w-full bg-brand-500 text-white py-3 rounded-xl font-bold hover:bg-brand-600 transition-all shadow-lg shadow-brand-200",children:s("i_agree")})})]})})]})};export{Fe as Auth};
